extends ../../core

block title
  title #{lingua.pages.users.update_user}

block breadcrumbTitle
  | #{lingua.pages.users.update_user}

block breadcrumbs
  | #{lingua.pages.users.update_user}

block content
  if validationErrors.length
    div.row
      div.col.s12
        div(class="alert-danger card-panel")
          each error, index in validationErrors
            span(class="white-text text-darken-2") #{error.msg}
  div(class="row")
    div(class="col s12")
      div(class="card")
        div(class="card-content")
          span(class="card-title") #{lingua.pages.users.update_user}
          div(class="row")
            div.col.s12
              form(class="main-form", method="POST")
                div(class="row")

                  div(class="input-field col s12")
                    input(type="text", name="first_name" id="id_first_name", value=(userData.first_name))
                    label(for="id_first_name") #{lingua.pages.users.first_name}
                  
                  div(class="input-field col s12")
                    input(type="text", name="last_name" id="id_last_name", value=(userData.last_name))
                    label(for="id_last_name") #{lingua.pages.users.last_name}

                  div(class="input-field col s12")
                    input(type="text", name="username" id="id_username", value=(userData.username))
                    label(for="id_username") #{lingua.pages.users.username}

                  div(class="input-field col s12")
                    input(type="text", id="id_email", value=(userData.email), readonly)
                    label(for="id_email") #{lingua.pages.users.email}

                  div(class="input-field col s12")
                    input(type="text", name="job", id="id_job", value=(userData.job))
                    label(for="id_job") #{lingua.pages.users.job}

                  div(class="input-field col s12")
                    select(name="role_id")
                      each role, index in roles
                        option(value=(role._id), selected=(role._id == userData.role_id ? true : false)) #{role.name}
                    label #{lingua.pages.users.role}

                  div(class="input-field col s12")
                    button(class="btn waves-effect waves-light" type="submit") #{lingua.general.save}
                      i(class="material-icons right") send